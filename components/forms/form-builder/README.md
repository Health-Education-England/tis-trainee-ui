| Entity                           | Constraints                                                                                                                                                                                 | Purpose / Usage                                                                                                                                                                                                   |
| -------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                  |                                                                                                                                                                                             |                                                                                                                                                                                                                   |
| _export type Form = {_           |                                                                                                                                                                                             |                                                                                                                                                                                                                   |
| _name: string;_                  | Must match an existing FormActionsAndTypes entry                                                                                                                                            | The FormActionsAndTypes entry defines the save and update hooks for the form, the data model and the id field for state management. This is currently hard-coded, it is not managed through form JSON templating. |
| _pages: Page[];_                 | Non-empty                                                                                                                                                                                   | A sequential array of Pages.                                                                                                                                                                                      |
| _};_                             |                                                                                                                                                                                             |                                                                                                                                                                                                                   |
|                                  |                                                                                                                                                                                             |                                                                                                                                                                                                                   |
| _type Page = {_                  |                                                                                                                                                                                             |                                                                                                                                                                                                                   |
| _pageName: string;_              | Unique within parent form                                                                                                                                                                   | Displayed to the user in the Progress Header of the form.                                                                                                                                                         |
| _importantTxtName?: string;_     | If it exists, it must match an element in the ImportantSections DisplayText map                                                                                                             | Optional text that will be highlighted in the 'Important' section at the head of the page. The ImportantText displayText is hard-coded at present, it is not managed through form JSON templating.                |
| _expanderLinkName?: string;_     |                                                                                                                                                                                             | If this exists, then the hard-coded ExpanderMsg is displayed above the Progress Header of the form.                                                                                                               |
| _sections: Section[];_           | Non-empty                                                                                                                                                                                   | A sequential array of Sections.                                                                                                                                                                                   |
| _};_                             |                                                                                                                                                                                             |                                                                                                                                                                                                                   |
|                                  |                                                                                                                                                                                             |                                                                                                                                                                                                                   |
| _type Section = {_               |                                                                                                                                                                                             |                                                                                                                                                                                                                   |
| _sectionHeader: string;_         | Unique within parent page                                                                                                                                                                   | Displayed to user as the Heading Card for the section.                                                                                                                                                            |
| _fields: Field[];_               | Non-empty                                                                                                                                                                                   | A sequential array of Fields.                                                                                                                                                                                     |
| _objectFields?: Field[];_        | ?                                                                                                                                                                                           | Used by the panel builder for type=array fields?                                                                                                                                                                  |
| _};_                             |                                                                                                                                                                                             |                                                                                                                                                                                                                   |
|                                  |                                                                                                                                                                                             |                                                                                                                                                                                                                   |
| _export type Field = {_          |                                                                                                                                                                                             |                                                                                                                                                                                                                   |
| _name: string;_                  | Unique within entire form                                                                                                                                                                   | Used to retrieve the FormData element, and as a key within the FormErrors array and the (hard-coded) form ValidationSchema map.                                                                                   |
| _label?: string;_                |                                                                                                                                                                                             | Optional Label displayed above the form entry field.                                                                                                                                                              |
| _type: FieldType;_               | Must be one of the defined types: date, phone, radio, select, text, textArea - or a 'special' type: array for an array of objects(e.g. Work panels) or dto for a dto field (e.g. covidDto). |                                                                                                                                                                                                                   |
| _visible: boolean;_              |                                                                                                                                                                                             | Whether the field is displayed or not. If false, it can be overriden by visibleIf. The field value is retained if it is made invisible, though this is not submitted with the final completed form.               |
| _optionsKey?: string;_           | If it exists, it must match the name of a declared constant in the containing Form React.FC object                                                                                          | Used for type=select fields to define the list of options to offer the user.                                                                                                                                      |
| _dependencies?: string[];_       | If it exists, it must match the name of one or more other form fields, which in turn must have their parent and visibleIf fields populated                                                  | Used in conjunction with visibleIf to indicate which other fields need to be redisplayed when the field value changes. Reciprocal to the parent field in the dependant field.                                     |
| _visibleIf?: string[];_          | Required if parent is populated; it must match one or more possible values of the matching parent field                                                                                     | If the parent field has one of the visibleIf values, then the field will be made visible, otherwise it will be made invisible.                                                                                    |
| _placeholder?: string;_          |                                                                                                                                                                                             | Prompt text to display within the field until the user starts typing.                                                                                                                                             |
| _warning?: Warning;_             |                                                                                                                                                                                             | Displays the error message <warning.msgText> if the field value does not match the regular expression <warning.matcher>.                                                                                          |
| _canGrow?: boolean;_             |                                                                                                                                                                                             | If true, allows the field to expand by a half when approximately 2/3 full of text; it will likewise shrink towards its initial size if text is removed.                                                           |
| _viewWhenEmpty?: boolean;_       |                                                                                                                                                                                             | Not currently in use.                                                                                                                                                                                             |
| _parent?: string;_               | Required if visibleIf is populated; it must match the name of the parent field                                                                                                              | Used to link the field to its parent to allow visibleIf to manage its visibility according to parent field values.                                                                                                |
| _objectFields?: Field[];_        |                                                                                                                                                                                             | An array of child fields. I don't know how this works (events, rendering, validation)                                                                                                                             |
| _width?: number;_                |                                                                                                                                                                                             | For text fields, stipulates a different initial width from the default of 20.                                                                                                                                     |
| _isNumberField?: boolean;_       |                                                                                                                                                                                             | If true, the field is limited to 4 characters and only numeric characters are accepted                                                                                                                            |
| contributesToTotal?: string[];\_ |                                                                                                                                                                                             | If it exists (and if isNumberField is true), it gives the name of the form field to add this form field's value to.                                                                                               |
| _readOnly?: boolean;_            |                                                                                                                                                                                             | If true, the field will not be editable.                                                                                                                                                                          |
| _rows?: number;_                 |                                                                                                                                                                                             | The number of rows to show for a type=textArea field.                                                                                                                                                             |
| _};_                             |                                                                                                                                                                                             |                                                                                                                                                                                                                   |
|                                  |                                                                                                                                                                                             |                                                                                                                                                                                                                   |
| _export type Warning = {_        |                                                                                                                                                                                             |                                                                                                                                                                                                                   |
| _matcher: string;_               | Valid regular expression                                                                                                                                                                    | The regular expression matcher.                                                                                                                                                                                   |
| _msgText: string;_               |                                                                                                                                                                                             | If the value does not match the matcher, the message to display.                                                                                                                                                  |
| _};_                             |                                                                                                                                                                                             |                                                                                                                                                                                                                   |
